<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ù‡Ø§Ù…</title>

<!-- Firebase CDN -->
<script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.13.0/firebase-auth.js"></script>

<style>
body{
    font-family: sans-serif;
    background:#f2f2f2;
    margin:0;
    padding:0;
    direction:rtl;
}
.container{
    width:90%;
    max-width:400px;
    margin:auto;
    margin-top:40px;
    background:white;
    padding:20px;
    border-radius:12px;
    box-shadow:0 0 15px #0002;
}
input{
    width:100%;
    padding:10px;
    margin:8px 0;
    border:1px solid #ccc;
    border-radius:6px;
}
button{
    width:100%;
    padding:10px;
    margin:10px 0;
    background:#007bff;
    color:white;
    border:0;
    border-radius:6px;
    cursor:pointer;
    font-size:16px;
}
button:hover{
    background:#0069d9;
}

.task{
    background:#fff;
    padding:15px;
    border-radius:10px;
    margin:10px 0;
    box-shadow:0 0 8px #0002;
}
#tasks{
    display:none;
}
#logout{
    background:red;
}
</style>
</head>

<body>

<div class="container" id="auth-box">
    <h2>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h2>
    <input id="login-email" type="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
    <input id="login-pass" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
    <button onclick="login()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>

    <h3>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</h3>
    <input id="reg-email" type="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
    <input id="reg-pass" type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
    <button onclick="register()">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨</button>
</div>

<div class="container" id="tasks">
    <h2>Ù…Ø±Ø­Ø¨Ø§ Ø¨Ùƒ!</h2>
    <button id="logout" onclick="logout()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
    <h3>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù‡Ø§Ù… (25 Ù…Ù‡Ù…Ø©)</h3>
    <div id="task-list"></div>
</div>

<script>
// -------------------------------
// ðŸ”¥ Ø¥Ø¹Ø¯Ø§Ø¯ ÙØ§ÙŠØ±Ø¨Ø§Ø³
// -------------------------------
const firebaseConfig = {
    apiKey: "AIzaSyC6soR9-mJwcKJ1pQZ1rwfQKd0uD9kR7NA",
    authDomain: "tasks-29d44.firebaseapp.com",
    projectId: "tasks-29d44",
    storageBucket: "tasks-29d44.appspot.com",
    messagingSenderId: "1021392653002",
    appId: "1:1021392653002:web:cdce3e5c066207f8af976a"
};

const app = firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

// -------------------------------
// ðŸ” ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
// -------------------------------
function login(){
    const email = document.getElementById("login-email").value;
    const pass  = document.getElementById("login-pass").value;

    auth.signInWithEmailAndPassword(email, pass)
    .then(()=>{
        showTasks();
    })
    .catch(err=>alert("Ø®Ø·Ø£: " + err.message));
}

// -------------------------------
// ðŸ†• Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
// -------------------------------
function register(){
    const email = document.getElementById("reg-email").value;
    const pass  = document.getElementById("reg-pass").value;

    auth.createUserWithEmailAndPassword(email, pass)
    .then(()=>{
        alert("ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¨Ù†Ø¬Ø§Ø­");
        showTasks();
    })
    .catch(err=>alert("Ø®Ø·Ø£: " + err.message));
}

// -------------------------------
// ðŸšª ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬
// -------------------------------
function logout(){
    auth.signOut();
    document.getElementById("auth-box").style.display = "block";
    document.getElementById("tasks").style.display = "none";
}

// -------------------------------
// âœ” Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‡Ø§Ù…
// -------------------------------
function showTasks() {
    document.getElementById("auth-box").style.display = "none";
    document.getElementById("tasks").style.display = "block";

    let list = "";
    for(let i=1; i<=25; i++){
        list += `<div class="task">Ù…Ù‡Ù…Ø© Ø±Ù‚Ù… ${i}</div>`;
    }
    document.getElementById("task-list").innerHTML = list;
}

// -------------------------------
// ðŸ”„ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
// -------------------------------
auth.onAuthStateChanged(user=>{
    if(user){
        showTasks();
    }
});
</script>

</body>
</html>
